@tailwind base;
@tailwind components;
@tailwind utilities;

/* NatuAsili Conservation Platform Design System */

@layer base {
  :root {
    /* Black and white theme with green conservation accents */
    --background: 0 0% 100%;
    --foreground: 0 0% 0%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 0%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 0%;

    /* Black primary with green conservation accent */
    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 0 0% 20%;

    /* Light gray secondary */
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 0%;

    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 0%;

    /* Conservation green accent */
    --accent: 142 71% 45%;
    --accent-foreground: 0 0% 100%;

    /* Conservation green theme color */
    --conservation: 142 71% 45%;
    --conservation-light: 142 71% 90%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 0 0% 0%;

    /* Black and white gradients */
    --gradient-nature: linear-gradient(135deg, hsl(0 0% 0%), hsl(0 0% 20%));
    --gradient-earth: linear-gradient(180deg, hsl(0 0% 96%), hsl(0 0% 100%));
    --gradient-safari: linear-gradient(45deg, hsl(0 0% 85%), hsl(0 0% 90%));

    /* Impact colors - grayscale variations */
    --wildlife: 0 0% 30%;
    --livelihoods: 0 0% 40%;
    --education: 0 0% 50%;
    --habitat: 0 0% 35%;

    --radius: 0.75rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 0 0% 0%;

    --sidebar-primary: 0 0% 0%;

    --sidebar-primary-foreground: 0 0% 100%;

    --sidebar-accent: 0 0% 96%;

    --sidebar-accent-foreground: 0 0% 0%;

    --sidebar-border: 0 0% 90%;

    --sidebar-ring: 0 0% 0%;
  }

  .dark {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;

    --card: 0 0% 0%;
    --card-foreground: 0 0% 100%;

    --popover: 0 0% 0%;
    --popover-foreground: 0 0% 100%;

    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 0%;

    --secondary: 0 0% 10%;
    --secondary-foreground: 0 0% 100%;

    --muted: 0 0% 10%;
    --muted-foreground: 0 0% 65%;

    --accent: 0 0% 20%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 0 0% 100%;
    --sidebar-background: 0 0% 0%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 0 0% 100%;
    --sidebar-primary-foreground: 0 0% 0%;
    --sidebar-accent: 0 0% 10%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 0 0% 20%;
    --sidebar-ring: 0 0% 100%;
  }
}

@layer base {
* {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }

  html {
    scroll-behavior: smooth;
  }

  /* Scroll to top of page for route changes */
  .router-outlet {
    scroll-margin-top: 0;
  }

/* Force black color for descriptions instead of grey */
.text-muted-foreground {
  color: hsl(var(--foreground)) !important;
}

/* Global typography - transform all fonts to normal and sentence case */
* {
  font-weight: normal !important;
}

/* Stronger global enforcement of sentence/normal case */
:root, body {
  text-transform: none !important;
  font-variant: normal !important;
}

/* Global sentence case transformation - overrides all styling */
h1, h2, h3, h4, h5, h6, 
.text-6xl, .text-5xl, .text-4xl, .text-3xl, .text-2xl, .text-xl, .text-lg,
button, .btn, .button, [role="button"],
.nav a, .menu a, .breadcrumb a, .card-title, .section-title,
.hero-title, .cta, .badge, .experience-card .title, .tab-title, .pill,
.dialog-title, .dropdown-menu-item, .select-item,
.label, .tab, .accordion-trigger {
  text-transform: none !important;
  font-variant: normal !important;
  letter-spacing: normal !important;
}

}

@layer utilities {
  /* Typography system - sentence case throughout */
  /* Reduced heading sizes and adjusted description font sizes */

  /* Page headings - increased by 20% from reduced size */
  .text-6xl {
    font-size: 2.475rem !important; /* 2.0625rem + 20% */
    line-height: 3rem !important;
  }

  .text-5xl {
    font-size: 1.98rem !important; /* 1.65rem + 20% */  
    line-height: 2.64rem !important;
  }

  /* Headers - increased by 20% from reduced size */
  .text-4xl {
    font-size: 1.485rem !important; /* 1.2375rem + 20% */
    line-height: 2.16rem !important;
  }

  .text-3xl {
    font-size: 1.2375rem !important; /* 1.03125rem + 20% */
    line-height: 1.8rem !important;
  }

  .text-2xl {
    font-size: 0.99rem !important; /* 0.825rem + 20% */
    line-height: 1.5rem !important;
  }

  /* Descriptions - increased by 15% from reduced size */
  .text-xl {
    font-size: 1.386rem !important; /* 1.32rem + 5% more */
    line-height: 2.02rem !important;
  }

  .text-lg {
    font-size: 0.939rem !important; /* 0.894rem + 5% more */
    line-height: 1.44rem !important;
  }

  /* ===== SITEWIDE: Single-line prices ===== */
  .price, .price-wrap, .pricing, .experience-price,
  .card .price, .booking-summary .price, .hero .price,
  .checkout-price, .booking-price, .marketplace-price {
    white-space: nowrap !important;
    display: inline-flex !important;
    align-items: baseline !important;
    gap: 0.35rem !important;
  }

  .price .currency, .price .amount,
  .experience-price .currency, .experience-price .amount,
  .checkout-price .currency, .checkout-price .amount,
  .booking-price .currency, .booking-price .amount {
    display: inline-block !important;
    white-space: nowrap !important;
    vertical-align: baseline !important;
  }

  /* Ensure common containers don't force wrap */
  .card-footer, .card-meta, .experience-meta {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    min-width: 0;
  }

  /* ===== Landing page: price badge style ===== */
  .landing-experiences .experience-card .price,
  .home-experiences .experience-card .price,
  .featured-experiences .experience-card .price {
    white-space: nowrap !important;
  }

  .landing-experiences .price-badge,
  .home-experiences .price-badge,
  .featured-experiences .price-badge {
    background: hsl(var(--foreground)) !important;
    color: hsl(var(--background)) !important;
    border-radius: 9999px !important;
    padding: 0.45rem 0.9rem !important;
    display: inline-flex !important;
    align-items: baseline !important;
    gap: 0.35rem !important;
    white-space: nowrap !important;
    font-size: 1em !important;
  }

  /* Experience booking page: price badge with -5% font size */
  .experience-booking .price-badge,
  .page-experience .booking .price-badge,
  .checkout-page .price-badge {
    background: hsl(var(--foreground)) !important;
    color: hsl(var(--background)) !important;
    border-radius: 9999px !important;
    padding: 0.45rem 0.9rem !important;
    display: inline-flex !important;
    align-items: baseline !important;
    gap: 0.35rem !important;
    white-space: nowrap !important;
    font-size: 0.95em !important; /* 5% smaller */
  }

  /* Ensure currency + amount never split to two lines */
  .price-badge .currency,
  .price-badge .amount {
    display: inline-block !important;
    white-space: nowrap !important;
    vertical-align: baseline !important;
  }

  /* Marketplace price utilities - reduced by 30% then increased by 10% = 0.77em */
  .marketplace-price {
    font-size: 0.77em !important; /* 30% reduction + 10% increase */
    line-height: 1.2 !important;
    white-space: nowrap !important;
  }
  
  /* Marketplace price inline layout */
  .marketplace-page .experience-card .price,
  .page-marketplace .experience-card .price,
  [data-page="marketplace"] .experience-card .price {
    font-size: 0.77em !important;
    line-height: 1.2 !important;
    white-space: nowrap !important;
  }

  .marketplace-page .experience-card .price .amount,
  .page-marketplace .experience-card .price .amount {
    font-size: 1em !important; /* inherit the 0.77em above */
    white-space: nowrap !important;
  }

  /* Keep currency + amount on one line */
  .marketplace-page .experience-card .price .currency,
  .marketplace-page .experience-card .price .amount,
  .page-marketplace .experience-card .price .currency,
  .page-marketplace .experience-card .price .amount {
    display: inline-block !important;
    vertical-align: baseline !important;
  }

  /* Price container in a single row, no wrapping */
  .marketplace-page .experience-card .price-wrap,
  .page-marketplace .experience-card .price-wrap,
  [data-page="marketplace"] .experience-card .price-wrap {
    display: flex !important;
    align-items: center !important;
    flex-wrap: nowrap !important;
    gap: 0.35rem !important;
    white-space: nowrap !important;
  }

  /* Ensure card footer doesn't wrap price */
  .marketplace-page .experience-card .card-footer,
  .page-marketplace .experience-card .card-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    flex-wrap: nowrap;
  }

  /* ===== THEME CHIPS: Black background, white text, clickable ===== */
  .theme-chip, .theme-tag, .experience-theme a {
    background: hsl(var(--foreground)) !important;
    color: hsl(var(--background)) !important;
    border-radius: 9999px !important;
    padding: 0.35rem 0.75rem !important;
    text-decoration: none !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.25rem !important;
    line-height: 1 !important;
    font-size: 0.75rem !important;
    font-weight: 500 !important;
    text-transform: none !important;
    transition: opacity 0.2s ease !important;
    cursor: pointer !important;
  }
  
  .theme-chip:hover, .theme-tag:hover, .experience-theme a:hover {
    opacity: 0.9 !important;
  }

  /* Optional: ensure chips wrap nicely on small screens */
  .theme-chip-group {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  /* ===== Hero/Landing page responsive images ===== */
  .landing-hero img,
  .hero-section img,
  .first-section img {
    width: 100% !important;
    height: auto !important;
    object-fit: cover !important;
    object-position: center center !important;
    display: block !important;
  }

  /* Force full image visibility on mobile/tablet */
  @media (max-width: 768px) {
    .landing-hero,
    .hero-section,
    .first-section {
      height: auto !important;
      min-height: unset !important;
    }
    
    .landing-hero img,
    .hero-section img,
    .first-section img {
      max-height: none !important;
      aspect-ratio: 16 / 9 !important;
    }
  }

  /* ===== RESPONSIVE DESIGN HELPERS ===== */
  img, video, svg, canvas {
    max-width: 100%;
    height: auto;
  }

  .container, .section-inner, .content-wrap {
    width: 100%;
    max-width: 1280px;
    margin-inline: auto;
    padding-inline: 1rem;
  }

  /* Grid responsive breakpoints */
  .grid-responsive {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }

  /* Typical breakpoints */
  @media (max-width: 1024px) {
    .grid-4 { grid-template-columns: repeat(3, 1fr); }
    .container { padding-inline: 0.75rem; }
  }
  
  @media (max-width: 768px) {
    .grid-4, .grid-3 { grid-template-columns: repeat(2, 1fr); }
    .card-footer { 
      flex-direction: column; 
      align-items: flex-start; 
      gap: 0.75rem;
    }
    .container { padding-inline: 0.5rem; }
    
    /* Stack hero content */
    .hero-stats {
      flex-direction: column;
      gap: 1rem;
    }
  }
  
  @media (max-width: 480px) {
    .grid-4, .grid-3, .grid-2 { grid-template-columns: 1fr; }
    .theme-chip { 
      font-size: 0.7rem !important; 
      padding: 0.375rem 0.625rem !important; 
    }
    
    /* Smaller spacing on mobile */
    .container { padding-inline: 0.25rem; }
    .section { padding-block: 2rem; }
  }

  /* ===== 1) Booking Form: Book Now CTA ===== */
  .booking-form .btn-book-now,
  .experience-booking .btn-book-now {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    padding: 0.9rem 1.25rem;
    font-weight: 600;
    border-radius: 9999px;
  }

  @media (max-width: 768px) {
    .booking-form .cta-sticky,
    .experience-booking .cta-sticky {
      position: sticky !important;
      bottom: 0; left: 0; right: 0;
      z-index: 50;
      background: hsl(var(--background));
      padding: 0.75rem 1rem;
      border-top: 1px solid hsl(var(--border));
      display: flex;
      justify-content: center;
      box-shadow: 0 -4px 6px -1px rgb(0 0 0 / 0.1);
    }
    .booking-form .cta-sticky .btn-book-now,
    .experience-booking .cta-sticky .btn-book-now {
      width: 100%;
      max-width: 520px;
    }
  }

  /* ===== 2) Experience header alignment ===== */
  .experience-header {
    display: flex;
    flex-wrap: wrap;
    align-items: baseline;
    gap: 0.5rem 0.75rem;
  }
  .experience-header .title { flex: 1 1 100%; }
  .experience-header .meta {
    display: inline-flex;
    align-items: baseline;
    gap: 0.5rem;
    flex-wrap: wrap;
  }
  .experience-header .meta .location,
  .experience-header .meta .capacity { white-space: nowrap; }

  /* ===== 3) Partner page hero description ===== */
  .partner-hero .description {
    font-size: clamp(1rem, 1.5vw + 0.6rem, 1.125rem);
    line-height: 1.6;
  }
  @media (max-width: 768px) {
    .partner-hero .description {
      font-size: 0.95rem !important;
      line-height: 1.6 !important;
    }
  }

  /* ===== 4) Home: Conservation Partners CTA ===== */
  .home-conservation-partners .btn-view-experiences { display: none !important; }

  /* ===== 5) Paragraph hierarchy for descriptions ===== */
  .section-description, .desc, .lead-paragraph, .hero-subtitle, .module-description {
    font-size: 1rem !important;
    line-height: 1.65 !important;
    font-weight: 400 !important;
    text-transform: none !important;
  }
  #conservation-experience-hub .section-title {
    font-size: clamp(1.5rem, 2.5vw + 0.5rem, 2rem);
    line-height: 1.2;
    font-weight: 700;
  }
  #conservation-experience-hub .section-description {
    font-size: 1rem !important;
    line-height: 1.65 !important;
  }

  /* Prevent layout shift (CLS) */
  .aspect-ratio-16-9 {
    aspect-ratio: 16 / 9;
  }
  
  .aspect-ratio-4-3 {
    aspect-ratio: 4 / 3;
  }
  
  .aspect-ratio-1-1 {
    aspect-ratio: 1 / 1;
  }
  
  /* Marketplace price buttons - reduced by 30% */
  .marketplace-page .experience-card .price-button,
  .marketplace-page .experience-card .btn-price,
  .page-marketplace .experience-card .price-button,
  [data-page="marketplace"] .experience-card .btn-price {
    font-size: 0.7em !important;
    padding: calc(0.7 * 0.5rem) calc(0.7 * 1rem) !important;
    border-radius: calc(0.7 * 0.375rem) !important;
  }

  /* Booking page price utilities - reduced by 5% then another 15% */
  .booking-price {
    font-size: 1.211rem !important; /* 1.425rem reduced by 15% more */
  }

  /* Checkout price utilities for smaller pricing displays */
  .checkout-price {
    font-size: 0.85rem !important;
    line-height: 1.2rem !important;
  }

  .checkout-total-price {
    font-size: 1.1rem !important;
    line-height: 1.4rem !important;
  }

/* ===== Standardize description body text to 16px ===== */
.section-description, .desc, .lead-paragraph, .hero-subtitle,
.module-description, .page-intro, .page-description, .partner-hero .description {
  font-size: 16px !important;
  line-height: 1.65 !important;
  font-weight: 400 !important;
  text-transform: none !important;
}

/* ===== Experience header/meta order on mobile & tablet ===== */
.experience-header { 
  display: grid; 
  grid-template-columns: 1fr auto; 
  gap: 0.5rem 1rem; 
  align-items: baseline; 
}
.experience-header .title { grid-column: 1 / -1; }
.experience-header .meta { 
  display: inline-flex; 
  gap: 0.5rem; 
  align-items: baseline; 
  flex-wrap: wrap; 
}

/* Mobile/Tablet: location first, "up to..." at bottom */
@media (max-width: 1024px) {
  .experience-header { grid-template-columns: 1fr; }
  .experience-header .meta { 
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 0.25rem; 
  }
  .experience-header .meta .location { order: 1; }
  .experience-header .meta .capacity { order: 2; }
}

/* ===== Partner names appear clickable sitewide ===== */
.partner-name { 
  cursor: pointer; 
  text-decoration: underline; 
  color: hsl(var(--primary));
}
.partner-name:hover {
  opacity: 0.8;
}

/* ===== People input controls ===== */
.people-input { 
  display: inline-flex; 
  align-items: center; 
  gap: 0.5rem; 
  border: 1px solid hsl(var(--border));
  border-radius: 0.375rem;
  padding: 0.25rem;
}
.people-input input[type="number"] { 
  width: 5.5rem; 
  text-align: center; 
  border: none;
  background: transparent;
  outline: none;
}
.people-input .btn-step {
  width: 2rem;
  height: 2rem;
  border: none;
  background: hsl(var(--muted));
  border-radius: 0.25rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.125rem;
  font-weight: bold;
}
.people-input .btn-step:hover {
  background: hsl(var(--muted-foreground) / 0.1);
}
.people-error { 
  color: hsl(var(--destructive)); 
  font-size: 0.875rem; 
  margin-top: 0.25rem; 
}

/* ===== Booking summary styling ===== */
.booking-summary {
  padding: 1rem;
  background: hsl(var(--muted) / 0.5);
  border-radius: 0.5rem;
  margin-top: 1rem;
}
.booking-summary .summary-title {
  font-weight: 600;
  margin-bottom: 0.5rem;
}

/* ===== Mobile sticky booking CTA ===== */
@media (max-width: 768px) {
  .cta-sticky {
    position: sticky !important;
    bottom: 0; 
    left: 0; 
    right: 0;
    z-index: 50;
    background: hsl(var(--background));
    padding: 0.75rem 1rem;
    border-top: 1px solid hsl(var(--border));
    display: flex;
    justify-content: center;
  }
  .cta-sticky .btn-book-now {
    width: 100%;
    max-width: 520px;
  }
}
}