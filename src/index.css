@tailwind base;
@tailwind components;
@tailwind utilities;

/* NatuAsili Conservation Platform Design System */

@layer base {
  :root {
    /* Black and white theme with green conservation accents */
    --background: 0 0% 100%;
    --foreground: 0 0% 0%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 0%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 0%;

    /* Black primary with green conservation accent */
    --primary: 0 0% 0%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 0 0% 20%;

    /* Light gray secondary */
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 0%;

    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 0%;

    /* Conservation green accent */
    --accent: 142 71% 45%;
    --accent-foreground: 0 0% 100%;

    /* Conservation green theme color */
    --conservation: 142 71% 45%;
    --conservation-light: 142 71% 90%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 0 0% 0%;

    /* Black and white gradients */
    --gradient-nature: linear-gradient(135deg, hsl(0 0% 0%), hsl(0 0% 20%));
    --gradient-earth: linear-gradient(180deg, hsl(0 0% 96%), hsl(0 0% 100%));
    --gradient-safari: linear-gradient(45deg, hsl(0 0% 85%), hsl(0 0% 90%));

    /* Impact colors - grayscale variations */
    --wildlife: 0 0% 30%;
    --livelihoods: 0 0% 40%;
    --education: 0 0% 50%;
    --habitat: 0 0% 35%;

    --radius: 0.75rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 0 0% 0%;

    --sidebar-primary: 0 0% 0%;

    --sidebar-primary-foreground: 0 0% 100%;

    --sidebar-accent: 0 0% 96%;

    --sidebar-accent-foreground: 0 0% 0%;

    --sidebar-border: 0 0% 90%;

    --sidebar-ring: 0 0% 0%;
  }

  .dark {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;

    --card: 0 0% 0%;
    --card-foreground: 0 0% 100%;

    --popover: 0 0% 0%;
    --popover-foreground: 0 0% 100%;

    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 0%;

    --secondary: 0 0% 10%;
    --secondary-foreground: 0 0% 100%;

    --muted: 0 0% 10%;
    --muted-foreground: 0 0% 65%;

    --accent: 0 0% 20%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 0 0% 100%;
    --sidebar-background: 0 0% 0%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 0 0% 100%;
    --sidebar-primary-foreground: 0 0% 0%;
    --sidebar-accent: 0 0% 10%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 0 0% 20%;
    --sidebar-ring: 0 0% 100%;
  }
}

@layer base {
* {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }

  html {
    scroll-behavior: smooth;
  }

  /* Scroll to top of page for route changes */
  .router-outlet {
    scroll-margin-top: 0;
  }

/* Force black color for descriptions instead of grey */
.text-muted-foreground {
  color: hsl(var(--foreground)) !important;
}

/* Global typography - transform all fonts to normal and sentence case */
* {
  font-weight: normal !important;
}

/* Stronger global enforcement of sentence/normal case */
:root, body {
  text-transform: none !important;
  font-variant: normal !important;
}

/* Global sentence case transformation - overrides all styling */
h1, h2, h3, h4, h5, h6, 
.text-6xl, .text-5xl, .text-4xl, .text-3xl, .text-2xl, .text-xl, .text-lg,
button, .btn, .button, [role="button"],
.nav a, .menu a, .breadcrumb a, .card-title, .section-title,
.hero-title, .cta, .badge, .experience-card .title, .tab-title, .pill,
.dialog-title, .dropdown-menu-item, .select-item,
.label, .tab, .accordion-trigger {
  text-transform: none !important;
  font-variant: normal !important;
  letter-spacing: normal !important;
}

}

/* ===== MODAL STYLES ===== */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
}

.modal-content {
  background: hsl(var(--background));
  border: 1px solid hsl(var(--border));
  border-radius: var(--radius);
  padding: 1.5rem;
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* ===== Remove "Complete your booking" section everywhere ===== */
.complete-your-booking,
.section-complete-booking { display: none !important; }

/* ===== Availability → Booking: hide/lock date+people once prefilled ===== */
#booking-form.prefilled .booking-field--date,
#booking-form.prefilled .booking-field--people {
  display: none !important; /* hides the re-entry UI */
}
#booking-form input[readonly] { 
  background: hsl(var(--muted)); 
  cursor: not-allowed;
}

/* ===== Related carousel sizing & arrows ===== */
.related-experiences { 
  position: relative; 
  min-height: 220px; /* prevent zero-height when empty */
}
.related-experiences .track {
  display: flex;
  gap: 16px;
  overflow: hidden;
  scroll-behavior: smooth;
  padding: 4px;               /* avoid clipping shadows */
}
.related-experiences .card {
  flex: 0 0 calc(50% - 8px);  /* 2-up desktop/laptop */
  min-width: 280px;           /* prevent squish to zero */
  background: hsl(var(--background));
  border: 1px solid hsl(var(--border));
  border-radius: 12px;
  overflow: hidden;
}
@media (max-width: 1024px) {
  .related-experiences .card { 
    flex: 0 0 calc(100% - 8px); /* 1-up tablet/mobile */
  }
}
.related-experiences .card-media img {
  display: block; 
  width: 100%; 
  height: auto; 
  object-fit: cover; 
  aspect-ratio: 16 / 9;
}
.related-experiences .card-body { 
  padding: 12px; 
}
.related-experiences .card-title {
  font-size: 1rem; 
  line-height: 1.25; 
  margin: 0 0 8px 0;
}

/* arrows */
.related-experiences .nav {
  position: absolute; 
  inset: 0;
  display: flex; 
  align-items: center; 
  justify-content: space-between;
  pointer-events: none;
}
.related-experiences .nav button {
  pointer-events: auto;
  width: 40px; 
  height: 40px;
  border-radius: 50%; 
  border: 1px solid hsl(var(--border)); 
  background: hsl(var(--background));
  display: grid; 
  place-items: center;
  box-shadow: 0 1px 4px hsl(var(--muted-foreground) / 0.1);
  font-size: 18px;
  font-weight: bold;
  transition: background-color 0.2s;
}
/* Primary menu padding -40% (from 10px to 6px) */
.primary-menu > li > a {
  padding-top: 6px !important;
  padding-bottom: 6px !important;
}

/* Partner stories heading - hide it completely */
.partner-stories h2 {
  display: none !important;
}

/* Partner stories cards - ensure consistent styling */
.partner-stories .ps-card {
  flex: 0 0 calc(50% - 8px);  /* 2-up desktop */
  min-width: 360px;
  background: hsl(var(--background)); 
  border: 1px solid hsl(var(--border)); 
  border-radius: 12px; 
  overflow: hidden;
  display: flex; 
  flex-direction: column;
}
@media (max-width: 1024px) {
  .partner-stories .ps-card { 
    flex: 0 0 calc(100% - 8px); 
    min-width: 280px; 
  }
}

/* Experience page spacing before footer */
.page-experience .content-area,
[data-page="experience"] .content-area,
.experience-detail-page {
  margin-bottom: 40px;
}

/* Marketplace - remove Book now buttons */
.marketplace .experience-card .btn-book-now,
.marketplace .experience-card .price-button,
.marketplace .experience-card .btn-price,
.marketplace .experience-card button:contains("Book now"),
.marketplace .experience-card a[href*="checkout"] {
  display: none !important;
}

/* Experience Hub - remove Book now buttons from Featured & New arrivals */
.experience-hub .featured .btn-book-now,
.experience-hub .new-arrivals .btn-book-now,
.experience-hub .featured button[class*="bg-conservation"],
.experience-hub .new-arrivals button[class*="bg-conservation"],
.experience-hub .featured a[href*="checkout"],
.experience-hub .new-arrivals a[href*="checkout"] {
  display: none !important;
}

/* Hide quick book tab entirely */
.experience-hub [data-value="quick"],
.experience-hub .quick-book-tab,
.experience-hub button[aria-selected="false"][data-value="quick"] {
  display: none !important;
}

/* Experience Hub - hide quick book tab */
.experience-hub .quick-book-tab {
  display: none !important;
}

/* Experience page (mobile) - hide "Check availability" text */
@media (max-width: 1024px) {
  .experience-page .btn-check-availability {
    position: relative;
  }
  /* If your button has an inner span/label, hide it */
  .experience-page .btn-check-availability .label { 
    display: none !important; 
  }
  /* If it's just text, make it visually hidden but screen-reader readable */
  .experience-page .btn-check-availability {
    color: transparent !important;
  }
  .experience-page .btn-check-availability::after {
    content: " "; /* keep size; you can insert an icon via background-image if you like */
  }
}

/* Sticky Book Now button (mobile/tablet) */
.sticky-book-now {
  display: none;
}
@media (max-width: 1024px) {
  .sticky-book-now {
    position: sticky; 
    bottom: 0;
    inset-inline: 0;
    display: flex;
    justify-content: center;
    gap: 12px;
    padding: .65rem 1rem calc(.65rem + env(safe-area-inset-bottom));
    border-top: 1px solid hsl(var(--border));
    background: hsl(var(--background));
    z-index: 40;
  }
  /* Button styling follows your brand */
  .sticky-book-now .btn {
    border-radius: 9999px;
    padding: .8rem 1.2rem;
    font-weight: 700;
  }
  
  /* Prevent overlap with footer on very short pages */
  .page-experience .content-area { 
    padding-bottom: 72px; 
  }
}

/* ===== RELATED EXPERIENCES V2 (NEW SLIDE-BASED LAYOUT) ===== */
/* Section */
.related-experiences.v2 { 
  position: relative; 
  min-height: 260px;
}
.related-experiences.v2 .rel-heading {
  margin: 0 0 12px 0;
  font-size: clamp(1.25rem, 1.5vw + 0.5rem, 1.75rem);
  color: hsl(var(--foreground));
}

/* Viewport/Track */
.related-experiences.v2 .rel-viewport { 
  overflow: hidden; 
}
.related-experiences.v2 .rel-track {
  display: flex;
  gap: 16px;
  scroll-behavior: smooth;
  padding: 4px;
}

/* Slide: grid of vertical cards */
.related-experiences.v2 .rel-slide {
  flex: 0 0 100%;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr)); /* 2 verticals per slide */
  gap: 16px;
}
@media (max-width: 1024px) {
  .related-experiences.v2 .rel-slide {
    grid-template-columns: 1fr; /* 1 vertical on mobile/tablet */
  }
}

/* Cards */
.related-experiences.v2 .rel-card {
  background: hsl(var(--background));
  border: 1px solid hsl(var(--border));
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-width: 0;
}
.related-experiences.v2 .rel-media img {
  width: 100%; 
  height: auto; 
  display: block; 
  object-fit: cover; 
  aspect-ratio: 16/9;
  background: hsl(var(--muted));
}
.related-experiences.v2 .rel-body { 
  padding: 12px; 
  display: flex; 
  flex-direction: column; 
  gap: 8px; 
}
.related-experiences.v2 .rel-title { 
  margin: 0; 
  font-size: 1rem; 
  line-height: 1.25; 
}
.related-experiences.v2 .rel-title a { 
  text-decoration: none; 
  color: inherit; 
}
.related-experiences.v2 .rel-meta { 
  color: hsl(var(--muted-foreground)); 
  font-size: 0.9rem; 
  display: flex; 
  gap: 10px; 
  flex-wrap: wrap; 
}
.related-experiences.v2 .btn.rel-view { 
  align-self: flex-start; 
  border: 1px solid hsl(var(--foreground)); 
  border-radius: 9999px; 
  padding: 0.45rem 0.9rem; 
  text-decoration: none; 
}

/* Partner Success Stories Carousel */
.partner-stories.gyg-like {
  position: relative;
  padding: 20px 0;
}

.partner-stories .ps-viewport {
  overflow: hidden;
  padding: 4px;
}

.partner-stories .ps-track {
  display: flex;
  gap: 16px;
  scroll-behavior: smooth;
  padding-bottom: 8px;
}

.partner-stories .ps-card {
  flex: 0 0 280px;
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.partner-stories .ps-media {
  display: block;
  aspect-ratio: 16/9;
}

.partner-stories .ps-media img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.partner-stories .ps-body {
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1;
}

.partner-stories .ps-title {
  margin: 0;
  font-size: 1.1rem;
  line-height: 1.3;
  font-weight: 600;
}

.partner-stories .ps-title a {
  text-decoration: none;
  color: hsl(var(--foreground));
}

.partner-stories .ps-title a:hover {
  color: hsl(var(--primary));
}

.partner-stories .ps-teaser {
  font-size: 0.9rem;
  color: hsl(var(--muted-foreground));
  line-height: 1.4;
  flex: 1;
}

.partner-stories .btn.ps-read {
  align-self: flex-start;
  padding: 0.5rem 1rem;
  border: 1px solid hsl(var(--border));
  border-radius: 9999px;
  text-decoration: none;
  font-size: 0.875rem;
  color: hsl(var(--foreground));
  background: hsl(var(--background));
  transition: all 0.2s;
}

.partner-stories .btn.ps-read:hover {
  background: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
}

.partner-stories .ps-nav {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  pointer-events: none;
  padding: 0 -12px;
  z-index: 10;
}

.partner-stories .ps-nav button {
  pointer-events: auto;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: 1px solid hsl(var(--border));
  background: hsl(var(--card));
  color: hsl(var(--foreground));
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 12px hsl(var(--foreground) / 0.1);
  transition: all 0.2s;
  z-index: 20;
  position: relative;
}

.partner-stories .ps-nav button:hover:not(:disabled) {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  box-shadow: 0 6px 16px hsl(var(--primary) / 0.3);
  transform: scale(1.05);
}

.partner-stories .ps-nav button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* Arrows */
.related-experiences.v2 .rel-nav {
  position: absolute; 
  inset: 0;
  display: flex; 
  align-items: center; 
  justify-content: space-between;
  pointer-events: none;
  z-index: 10;
}
.related-experiences.v2 .rel-nav button {
  pointer-events: auto;
  width: 48px; 
  height: 48px; 
  border-radius: 50%;
  border: 1px solid hsl(var(--border)); 
  background: hsl(var(--card));
  color: hsl(var(--foreground));
  font-size: 24px; 
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 12px hsl(var(--foreground) / 0.1);
  transition: all 0.2s;
  z-index: 20;
  position: relative;
}
.related-experiences.v2 .rel-nav button:hover:not(:disabled) {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  box-shadow: 0 6px 16px hsl(var(--primary) / 0.3);
  transform: scale(1.05);
}
.related-experiences.v2 .rel-nav button:disabled { 
  opacity: 0.4; 
  cursor: not-allowed; 
}

@media (max-width: 768px) {
  .partner-stories .ps-card {
    flex: 0 0 240px;
  }
}

/* OPTIONAL: Prevent overlap with footer on very short pages */
@media (max-width: 1024px) {
  .page-experience .content-area { 
    padding-bottom: 72px; 
  }
}

/* Mobile Header - Hamburger menu for ≤1024px */
@media (max-width: 1024px) {
  .primary-menu { display: none !important; } /* hide full menu */
  .hamburger-toggle { display: inline-block !important; }
  .site-header .logo { flex: 1; }
  .site-header .partner-btn, 
  .site-header .signin-icon { display: inline-flex; align-items: center; }
}

/* ===== RELATED EXPERIENCES & PARTNER STORIES CAROUSELS ===== */
/* Container & header */
.related-experiences.gyg-like, .partner-stories.gyg-like { 
  position: relative; 
  min-height: 260px;
}
.related-experiences .rel-header, .partner-stories { 
  display: flex; 
  align-items: baseline; 
  justify-content: space-between; 
  margin-bottom: 10px; 
}
.related-experiences h2, .partner-stories h2 { 
  margin: 0; 
  font-size: clamp(1.25rem, 1.5vw + 0.5rem, 1.75rem); 
  color: hsl(var(--foreground));
}

/* Viewport/track */
.related-experiences .rel-viewport, .ps-viewport { overflow: hidden; }
.related-experiences .rel-track, .ps-track {
  display: flex; 
  gap: 16px; 
  scroll-behavior: smooth; 
  padding: 4px;
}

/* Cards */
.related-experiences .rel-card, .ps-card {
  flex: 0 0 calc(50% - 8px);         /* 2-up on desktop/laptop */
  min-width: 360px;                  /* protect against shrinking too small */
  background: hsl(var(--background)); 
  border: 1px solid hsl(var(--border)); 
  border-radius: 12px; 
  overflow: hidden;
  display: flex; 
  flex-direction: column;
  transition: box-shadow 0.2s ease;
}
.related-experiences .rel-card:hover, .ps-card:hover {
  box-shadow: 0 4px 12px -2px hsl(var(--foreground) / 0.1);
}

@media (max-width: 1024px) {
  .related-experiences .rel-card, .ps-card {
    flex: 0 0 calc(100% - 8px);      /* 1-up on tablet/mobile */
    min-width: 280px;
  }
}

/* Media */
.related-experiences .rel-media img, .ps-media img {
  display: block; 
  width: 100%; 
  height: auto; 
  object-fit: cover; 
  aspect-ratio: 16/9;
  background: hsl(var(--muted));
  transition: transform 0.2s ease;
}
.related-experiences .rel-card:hover .rel-media img, .ps-card:hover .ps-media img {
  transform: scale(1.02);
}

/* Body */
.related-experiences .rel-body, .ps-body { 
  padding: 12px; 
  display: flex; 
  flex-direction: column; 
  gap: 8px; 
  flex-grow: 1;
}
.related-experiences .rel-title, .ps-title { 
  margin: 0; 
  font-size: 1rem; 
  line-height: 1.25; 
  font-weight: 600;
}
.related-experiences .rel-title a, .ps-title a { 
  text-decoration: none; 
  color: hsl(var(--foreground)); 
}
.related-experiences .rel-title a:hover, .ps-title a:hover {
  color: hsl(var(--primary));
}

.related-experiences .rel-meta { 
  display: flex; 
  gap: 10px; 
  flex-wrap: wrap; 
  color: hsl(var(--muted-foreground)); 
  font-size: 0.875rem; 
}
.ps-teaser { 
  margin: 0; 
  line-height: 1.5; 
  color: hsl(var(--muted-foreground));
  font-size: 0.875rem;
}

.related-experiences .btn.rel-view, .btn.ps-read { 
  align-self: flex-start; 
  border: 1px solid hsl(var(--foreground)); 
  border-radius: 9999px; 
  padding: 0.45rem 0.9rem; 
  text-decoration: none; 
  font-size: 0.875rem;
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  transition: all 0.2s ease;
  margin-top: auto;
}
.related-experiences .btn.rel-view:hover, .btn.ps-read:hover {
  background: hsl(var(--foreground));
  color: hsl(var(--background));
}

/* Arrows */
.related-experiences .rel-nav, .ps-nav {
  position: absolute; 
  inset: 0; 
  display: flex; 
  align-items: center; 
  justify-content: space-between;
  pointer-events: none;
}
.related-experiences .rel-nav button, .ps-nav button {
  pointer-events: auto;
  width: 44px; 
  height: 44px; 
  border-radius: 50%;
  border: 1px solid hsl(var(--border)); 
  background: hsl(var(--background)); 
  font-size: 24px; 
  line-height: 1;
  display: grid; 
  place-items: center; 
  box-shadow: 0 2px 8px hsl(var(--foreground) / 0.08);
  color: hsl(var(--foreground));
  transition: all 0.2s ease;
  z-index: 10;
}
.related-experiences .rel-nav button:hover, .ps-nav button:hover {
  background: hsl(var(--muted));
  border-color: hsl(var(--primary));
}
.related-experiences .rel-nav button:disabled, .ps-nav button:disabled { 
  opacity: 0.4; 
  cursor: not-allowed; 
}

/* ===== AIRBNB × GETYOURGUIDE BOOKING FLOW ===== */
/* Kill confusing section globally */
.complete-your-booking, .section-complete-booking { display: none !important; }

/* Availability CTA visibility */
#availability-cta.hidden { display: none !important; }
#booking-section[hidden] { display: none !important; }

/* Lock chips (Airbnb-style) */
.booking-locks { 
  display: flex; 
  gap: 0.5rem; 
  align-items: center; 
  flex-wrap: wrap; 
  margin: 0.5rem 0 1rem; 
}
.lock-chip { 
  background: hsl(var(--muted)); 
  border-radius: 9999px; 
  padding: 0.35rem 0.75rem; 
  font-size: 0.875rem;
}

/* People warning (consistent with checkout) */
.people-error { 
  color: #B00020 !important; 
  font-weight: 700 !important; 
  margin-top: 0.35rem; 
}

/* Review box */
.price-review { 
  margin-top: 1rem; 
  border: 1px solid hsl(var(--border)); 
  border-radius: 8px; 
  padding: 0.75rem 0.9rem; 
}
.price-review .row { 
  display: flex; 
  justify-content: space-between; 
  gap: 1rem; 
  padding: 0.25rem 0; 
}
.price-review .row.total { 
  border-top: 1px solid hsl(var(--border)); 
  margin-top: 0.25rem; 
  padding-top: 0.5rem; 
  font-weight: 700; 
}
.price-review .note { 
  font-size: 0.9rem; 
  color: hsl(var(--muted-foreground)); 
  margin-top: 0.25rem; 
}

/* Modal baseline; convert to drawer on small screens if preferred */
.modal[hidden] { display: none !important; }
.modal { 
  position: fixed; 
  inset: 0; 
  display: grid; 
  place-items: center; 
  background: rgba(0,0,0,0.4); 
  z-index: 100; 
  backdrop-filter: blur(2px);
}
.modal-content { 
  background: hsl(var(--background)); 
  padding: 1.5rem; 
  border-radius: 12px; 
  width: min(560px, 92vw); 
  max-height: 90vh; 
  overflow: auto; 
  border: 1px solid hsl(var(--border));
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* Mobile hint: placeholder 0 for people */
@media (max-width: 768px) { 
  #availability-form input[name="people"]::placeholder { 
    content: "0"; 
  } 
}

/* Blog carousel (mobile/tablet) */
@media (max-width: 1024px) {
  .home-blog { position: relative; }
  .home-blog .blog-track {
    display: flex; gap: 12px; overflow: auto; scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch; padding: 4px 2px;
  }
  .home-blog .blog-card {
    flex: 0 0 calc(80% - 6px);    /* big card on mobile */
    scroll-snap-align: start;
    min-width: 260px;
    border: 1px solid hsl(var(--border)); border-radius: 12px; overflow: hidden;
    background: hsl(var(--background));
  }
  .home-blog .blog-card .thumb img { width: 100%; height: auto; object-fit: cover; aspect-ratio: 16/9; display: block; }
  .home-blog .blog-card .post-title {
    font-size: clamp(.95rem, 1.8vw, 1.05rem);
    line-height: 1.25; margin: 10px 12px 8px;
    display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
  }
  .home-blog .blog-card .post-excerpt { margin: 0 12px 10px; line-height: 1.5; }
  .home-blog .blog-card .read-more { margin: 0 12px 12px; text-decoration: underline; display: inline-block; }
  .home-blog .blog-nav {
    display: flex; justify-content: space-between; gap: 12px; margin-top: 8px;
  }
  .home-blog .view-all-stories { margin-top: 10px; display: inline-block; text-decoration: underline; }
}

/* Category chip styling */
.post-category {
  background: hsl(var(--foreground)); 
  color: hsl(var(--background)); 
  border-radius: 9999px; 
  padding: .35rem .75rem;
  display: inline-flex; 
  align-items: center; 
  gap: .35rem; 
  text-decoration: none; 
  line-height: 1;
  transition: opacity 0.2s;
}
.post-category:hover { opacity: .9; }

/* Theme chip styling */
.theme-chip {
  background: hsl(var(--foreground)); 
  color: hsl(var(--background)); 
  border-radius: 9999px; 
  padding: .35rem .75rem;
  display: inline-flex; 
  align-items: center; 
  gap: .35rem; 
  text-decoration: none; 
  line-height: 1;
  transition: opacity 0.2s;
}
.theme-chip:hover { opacity: .9; }

.modal-actions {
  display: flex;
  gap: 0.75rem;
  justify-content: flex-end;
  margin-top: 1.5rem;
}

/* ===== ERROR STYLES ===== */
.people-error {
  color: hsl(var(--destructive));
}

/* ===== COOKIE BANNER STYLES ===== */
.cookie-banner {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: hsl(var(--background));
  border-top: 1px solid hsl(var(--border));
  padding: 1rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
  z-index: 1000;
  box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);
}

.cookie-banner span {
  flex: 1;
  min-width: 200px;
  font-size: 0.875rem;
  color: hsl(var(--foreground));
}

.cookie-banner a {
  color: hsl(var(--primary));
  text-decoration: underline;
  font-size: 0.875rem;
}

.cookie-banner .btn {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  border: none;
  padding: 0.5rem 1rem;
  border-radius: var(--radius);
  font-size: 0.875rem;
  cursor: pointer;
  transition: background-color 0.2s;
}

.cookie-banner .btn:hover {
  background: hsl(var(--primary-hover));
}

/* ===== CAROUSEL STYLES ===== */
.related-experiences {
  position: relative;
}

.related-experiences .track {
  display: flex;
  gap: 1rem;
  overflow-x: auto;
  scroll-behavior: smooth;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.related-experiences .track::-webkit-scrollbar {
  display: none;
}

.related-experiences .nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  left: -1rem;
  right: -1rem;
  display: flex;
  justify-content: space-between;
  pointer-events: none;
  z-index: 10;
}

.related-experiences .nav button {
  pointer-events: auto;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  border: 1px solid hsl(var(--border));
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: all 0.2s;
  cursor: pointer;
}

.related-experiences .nav button:hover {
  background: hsl(var(--muted));
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Partner stories carousel */
.partner-stories-carousel {
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.partner-stories-carousel::-webkit-scrollbar {
  display: none;
}

#partner-stories-track {
  scroll-behavior: smooth;
}

@media (max-width: 768px) {
  .related-experiences .nav {
    left: -0.5rem;
    right: -0.5rem;
  }
  
  .related-experiences .nav button {
    width: 2rem;
    height: 2rem;
  }
}

@layer utilities {
  /* Typography system - sentence case throughout */
  /* Reduced heading sizes and adjusted description font sizes */

  /* Page headings - increased by 20% from reduced size */
  .text-6xl {
    font-size: 2.475rem !important; /* 2.0625rem + 20% */
    line-height: 3rem !important;
  }

  .text-5xl {
    font-size: 1.98rem !important; /* 1.65rem + 20% */  
    line-height: 2.64rem !important;
  }

  /* Headers - increased by 20% from reduced size */
  .text-4xl {
    font-size: 1.485rem !important; /* 1.2375rem + 20% */
    line-height: 2.16rem !important;
  }

  .text-3xl {
    font-size: 1.2375rem !important; /* 1.03125rem + 20% */
    line-height: 1.8rem !important;
  }

  .text-2xl {
    font-size: 0.99rem !important; /* 0.825rem + 20% */
    line-height: 1.5rem !important;
  }

  /* Descriptions - increased by 15% from reduced size */
  .text-xl {
    font-size: 1.386rem !important; /* 1.32rem + 5% more */
    line-height: 2.02rem !important;
  }

  .text-lg {
    font-size: 0.939rem !important; /* 0.894rem + 5% more */
    line-height: 1.44rem !important;
  }

  /* ===== SITEWIDE: Single-line prices ===== */
  .price, .price-wrap, .pricing, .experience-price,
  .card .price, .booking-summary .price, .hero .price,
  .checkout-price, .booking-price, .marketplace-price {
    white-space: nowrap !important;
    display: inline-flex !important;
    align-items: baseline !important;
    gap: 0.35rem !important;
  }

  .price .currency, .price .amount,
  .experience-price .currency, .experience-price .amount,
  .checkout-price .currency, .checkout-price .amount,
  .booking-price .currency, .booking-price .amount {
    display: inline-block !important;
    white-space: nowrap !important;
    vertical-align: baseline !important;
  }

  /* Ensure common containers don't force wrap */
  .card-footer, .card-meta, .experience-meta {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    min-width: 0;
  }

  /* ===== Landing page: price badge style ===== */
  .landing-experiences .experience-card .price,
  .home-experiences .experience-card .price,
  .featured-experiences .experience-card .price {
    white-space: nowrap !important;
  }

  .landing-experiences .price-badge,
  .home-experiences .price-badge,
  .featured-experiences .price-badge {
    background: hsl(var(--foreground)) !important;
    color: hsl(var(--background)) !important;
    border-radius: 9999px !important;
    padding: 0.45rem 0.9rem !important;
    display: inline-flex !important;
    align-items: baseline !important;
    gap: 0.35rem !important;
    white-space: nowrap !important;
    font-size: 1em !important;
  }

  /* Experience booking page: price badge with -5% font size */
  .experience-booking .price-badge,
  .page-experience .booking .price-badge,
  .checkout-page .price-badge {
    background: hsl(var(--foreground)) !important;
    color: hsl(var(--background)) !important;
    border-radius: 9999px !important;
    padding: 0.45rem 0.9rem !important;
    display: inline-flex !important;
    align-items: baseline !important;
    gap: 0.35rem !important;
    white-space: nowrap !important;
    font-size: 0.95em !important; /* 5% smaller */
  }

  /* Ensure currency + amount never split to two lines */
  .price-badge .currency,
  .price-badge .amount {
    display: inline-block !important;
    white-space: nowrap !important;
    vertical-align: baseline !important;
  }

  /* Marketplace price utilities - reduced by 30% then increased by 10% = 0.77em */
  .marketplace-price {
    font-size: 0.77em !important; /* 30% reduction + 10% increase */
    line-height: 1.2 !important;
    white-space: nowrap !important;
  }
  
  /* Marketplace price inline layout */
  .marketplace-page .experience-card .price,
  .page-marketplace .experience-card .price,
  [data-page="marketplace"] .experience-card .price {
    font-size: 0.77em !important;
    line-height: 1.2 !important;
    white-space: nowrap !important;
  }

  .marketplace-page .experience-card .price .amount,
  .page-marketplace .experience-card .price .amount {
    font-size: 1em !important; /* inherit the 0.77em above */
    white-space: nowrap !important;
  }

  /* Keep currency + amount on one line */
  .marketplace-page .experience-card .price .currency,
  .marketplace-page .experience-card .price .amount,
  .page-marketplace .experience-card .price .currency,
  .page-marketplace .experience-card .price .amount {
    display: inline-block !important;
    vertical-align: baseline !important;
  }

  /* Price container in a single row, no wrapping */
  .marketplace-page .experience-card .price-wrap,
  .page-marketplace .experience-card .price-wrap,
  [data-page="marketplace"] .experience-card .price-wrap {
    display: flex !important;
    align-items: center !important;
    flex-wrap: nowrap !important;
    gap: 0.35rem !important;
    white-space: nowrap !important;
  }

  /* Ensure card footer doesn't wrap price */
  .marketplace-page .experience-card .card-footer,
  .page-marketplace .experience-card .card-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    flex-wrap: nowrap;
  }

  /* ===== THEME CHIPS: Black background, white text, clickable ===== */
  .theme-chip, .theme-tag, .experience-theme a {
    background: hsl(var(--foreground)) !important;
    color: hsl(var(--background)) !important;
    border-radius: 9999px !important;
    padding: 0.35rem 0.75rem !important;
    text-decoration: none !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.25rem !important;
    line-height: 1 !important;
    font-size: 0.75rem !important;
    font-weight: 500 !important;
    text-transform: none !important;
    transition: opacity 0.2s ease !important;
    cursor: pointer !important;
  }
  
  .theme-chip:hover, .theme-tag:hover, .experience-theme a:hover {
    opacity: 0.9 !important;
  }

  /* Optional: ensure chips wrap nicely on small screens */
  .theme-chip-group {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  /* ===== Hero/Landing page responsive images ===== */
  .landing-hero img,
  .hero-section img,
  .first-section img {
    width: 100% !important;
    height: auto !important;
    object-fit: cover !important;
    object-position: center center !important;
    display: block !important;
  }

  /* Force full image visibility on mobile/tablet */
  @media (max-width: 768px) {
    .landing-hero,
    .hero-section,
    .first-section {
      height: auto !important;
      min-height: unset !important;
    }
    
    .landing-hero img,
    .hero-section img,
    .first-section img {
      max-height: none !important;
      aspect-ratio: 16 / 9 !important;
    }
  }

  /* ===== RESPONSIVE DESIGN HELPERS ===== */
  img, video, svg, canvas {
    max-width: 100%;
    height: auto;
  }

  .container, .section-inner, .content-wrap {
    width: 100%;
    max-width: 1280px;
    margin-inline: auto;
    padding-inline: 1rem;
  }

  /* Grid responsive breakpoints */
  .grid-responsive {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }

  /* Typical breakpoints */
  @media (max-width: 1024px) {
    .grid-4 { grid-template-columns: repeat(3, 1fr); }
    .container { padding-inline: 0.75rem; }
  }
  
  @media (max-width: 768px) {
    .grid-4, .grid-3 { grid-template-columns: repeat(2, 1fr); }
    .card-footer { 
      flex-direction: column; 
      align-items: flex-start; 
      gap: 0.75rem;
    }
    .container { padding-inline: 0.5rem; }
    
    /* Stack hero content */
    .hero-stats {
      flex-direction: column;
      gap: 1rem;
    }
  }
  
  @media (max-width: 480px) {
    .grid-4, .grid-3, .grid-2 { grid-template-columns: 1fr; }
    .theme-chip { 
      font-size: 0.7rem !important; 
      padding: 0.375rem 0.625rem !important; 
    }
    
    /* Smaller spacing on mobile */
    .container { padding-inline: 0.25rem; }
    .section { padding-block: 2rem; }
  }


  /* ===== 2) Experience header alignment ===== */
  .experience-header {
    display: flex;
    flex-wrap: wrap;
    align-items: baseline;
    gap: 0.5rem 0.75rem;
  }
  .experience-header .title { flex: 1 1 100%; }
  .experience-header .meta {
    display: inline-flex;
    align-items: baseline;
    gap: 0.5rem;
    flex-wrap: wrap;
  }
  .experience-header .meta .location,
  .experience-header .meta .capacity { white-space: nowrap; }

  /* ===== 3) Partner page hero description ===== */
  .partner-hero .description {
    font-size: clamp(1rem, 1.5vw + 0.6rem, 1.125rem);
    line-height: 1.6;
  }
  @media (max-width: 768px) {
    .partner-hero .description {
      font-size: 0.95rem !important;
      line-height: 1.6 !important;
    }
  }

  /* ===== 4) Home: Conservation Partners CTA ===== */
  .home-conservation-partners .btn-view-experiences { display: none !important; }

  /* ===== 5) Paragraph hierarchy for descriptions ===== */
  .section-description, .desc, .lead-paragraph, .hero-subtitle, .module-description {
    font-size: 1rem !important;
    line-height: 1.65 !important;
    font-weight: 400 !important;
    text-transform: none !important;
  }
  #conservation-experience-hub .section-title {
    font-size: clamp(1.5rem, 2.5vw + 0.5rem, 2rem);
    line-height: 1.2;
    font-weight: 700;
  }
  #conservation-experience-hub .section-description {
    font-size: 1rem !important;
    line-height: 1.65 !important;
  }

/* ===== Global Page Layout ===== */

/* Hero section full width */
.page-hero,
.hero-section {
  width: 100% !important;
  max-width: none !important;
  margin: 0;
  padding: 0;
}

/* Standard content sections after hero */
.page-content,
.section,
.main-content,
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px; /* safe spacing for mobile */
  box-sizing: border-box;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .page-content,
  .section,
  .main-content,
  .container {
    padding: 0 15px;
  }
}

/* ===== Blog Improvements ===== */
.blog-card .read-more,
.post-excerpt .read-more { 
  display: inline-block; 
  text-decoration: underline; 
  margin-top: 0.5rem;
  color: hsl(var(--primary));
}

.blog-card .thumb img, 
.post-hero img {
  width: 100%; 
  height: auto; 
  display: block; 
  object-fit: cover;
}

.post-content, 
.post-body {
  line-height: 1.5 !important;
}

/* ===== Sticky CTA ===== */
@media (max-width: 1024px) {
  .sticky-availability-bar {
    position: fixed; 
    bottom: 0; 
    left: 0; 
    right: 0; 
    z-index: 50;
    background: hsl(var(--background)); 
    border-top: 1px solid hsl(var(--border));
    padding: 0.75rem 1rem; 
    display: flex; 
    gap: 0.75rem;
    box-shadow: 0 -2px 10px hsl(var(--foreground) / 0.1);
  }
  .sticky-availability-bar .btn-check-availability {
    flex: 1 1 auto; 
    border-radius: 9999px; 
    padding: 0.9rem 1.2rem; 
    font-weight: 600;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }
}

/* Desktop: floating CTA */
@media (min-width: 1025px) {
  .floating-availability {
    position: fixed; 
    right: 24px; 
    bottom: 24px; 
    z-index: 50;
  }
  .floating-availability .btn-check-availability {
    border-radius: 9999px; 
    padding: 0.9rem 1.2rem; 
    font-weight: 600;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    box-shadow: 0 4px 15px hsl(var(--foreground) / 0.2);
  }
}

/* ===== Related Experiences Grid ===== */
.related-experiences {
  display: grid; 
  gap: 1rem;
  grid-template-columns: repeat(4, minmax(0, 1fr));
}
@media (max-width: 1024px) { 
  .related-experiences { 
    grid-template-columns: repeat(3, 1fr); 
  } 
}
@media (max-width: 768px) { 
  .related-experiences { 
    grid-template-columns: repeat(2, 1fr); 
  } 
}
@media (max-width: 480px) { 
  .related-experiences { 
    grid-template-columns: 1fr; 
  } 
}

/* ===== Modal Styles ===== */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 100;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}

.modal[hidden] {
  display: none !important;
}

.modal-content {
  background: hsl(var(--background));
  border-radius: 12px;
  max-width: 500px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  padding: 2rem;
  border: 1px solid hsl(var(--border));
  box-shadow: 0 10px 40px hsl(var(--foreground) / 0.2);
}

.modal-actions {
  display: flex;
  gap: 0.75rem;
  justify-content: flex-end;
  margin-top: 1.5rem;
}

/* ===== Left-align sections after hero ===== */
.page-after-hero .section-title,
.page-after-hero .section-description {
  text-align: left !important;
}

/* ===== Ensure scroll starts at top ===== */
html, body { 
  scroll-behavior: smooth; 
}

/* ===== People error styling ===== */
.people-error {
  color: #B00020 !important;
  font-weight: 700 !important;
  margin-top: 0.35rem;
}

  /* ===== Global Page Layout ===== */
  /* Hero section full width */
  .page-hero,
  .hero-section {
    width: 100% !important;
    max-width: none !important;
    margin: 0;
    padding: 0;
  }

  /* Global container width override */
  .container, .section-inner, .content-wrap, .page-wrap, .site-container {
    max-width: 1200px !important;
  }

  /* Bold red booking limit message */
  .people-error {
    color: #B00020 !important;
    font-weight: 700 !important;
    margin-top: .35rem;
  }

  /* Disable buttons when invalid */
  .btn[disabled] { opacity: .5; pointer-events: none; }

  /* Hide steps via [hidden] for simple toggling */
  .step[hidden] { display: none !important; }

  /* Blog defaults */
  .blog-card .read-more,
  .post-excerpt .read-more { display: inline-block; text-decoration: underline; }

  .blog-card .thumb img, .post-hero img {
    width: 100%; height: auto; display: block; object-fit: cover;
  }

  .post-content, .post-body {
    line-height: 1.5 !important;
  }

  /* Sticky bottom CTA (mobile+tablet) */
  @media (max-width: 1024px) {
    .sticky-availability-bar {
      position: sticky; bottom: 0; left: 0; right: 0; z-index: 50;
      background: hsl(var(--background)); border-top: 1px solid hsl(var(--border));
      padding: 0.75rem 1rem; display: flex; gap: .75rem;
    }
    .sticky-availability-bar .btn-check-availability {
      flex: 1 1 auto; border-radius: 9999px; padding: .9rem 1.2rem; font-weight: 600;
    }
  }

  /* Desktop: float CTA */
  @media (min-width: 1025px) {
    .floating-availability {
      position: fixed; right: 24px; bottom: 24px; z-index: 50;
    }
    .floating-availability .btn-check-availability {
      border-radius: 9999px; padding: .9rem 1.2rem; font-weight: 600;
    }
  }

  /* "You might also like" grid */
  .related-experiences {
    display: grid; gap: 1rem;
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
  @media (max-width: 1024px) { .related-experiences { grid-template-columns: repeat(3,1fr); } }
  @media (max-width: 768px)  { .related-experiences { grid-template-columns: repeat(2,1fr); } }
  @media (max-width: 480px)  { .related-experiences { grid-template-columns: 1fr; } }

  /* Left-align titles & descriptions after hero (sitewide section headers) */
  .page-after-hero .section-title,
  .page-after-hero .section-description {
    text-align: left !important;
  }
  
  .aspect-ratio-1-1 {
    aspect-ratio: 1 / 1;
  }
  
  /* Marketplace price buttons - reduced by 30% */
  .marketplace-page .experience-card .price-button,
  .marketplace-page .experience-card .btn-price,
  .page-marketplace .experience-card .price-button,
  [data-page="marketplace"] .experience-card .btn-price {
    font-size: 0.7em !important;
    padding: calc(0.7 * 0.5rem) calc(0.7 * 1rem) !important;
    border-radius: calc(0.7 * 0.375rem) !important;
  }

  /* Booking page price utilities - reduced by 5% then another 15% */
  .booking-price {
    font-size: 1.211rem !important; /* 1.425rem reduced by 15% more */
  }

  /* Checkout price utilities for smaller pricing displays */
  .checkout-price {
    font-size: 0.85rem !important;
    line-height: 1.2rem !important;
  }

  .checkout-total-price {
    font-size: 1.1rem !important;
    line-height: 1.4rem !important;
  }

/* ===== Standardize description body text to 16px ===== */
.section-description, .desc, .lead-paragraph, .hero-subtitle,
.module-description, .page-intro, .page-description, .partner-hero .description {
  font-size: 16px !important;
  line-height: 1.65 !important;
  font-weight: 400 !important;
  text-transform: none !important;
}

/* ===== Experience header/meta order on mobile & tablet ===== */
.experience-header { 
  display: grid; 
  grid-template-columns: 1fr auto; 
  gap: 0.5rem 1rem; 
  align-items: baseline; 
}
.experience-header .title { grid-column: 1 / -1; }
.experience-header .meta { 
  display: inline-flex; 
  gap: 0.5rem; 
  align-items: baseline; 
  flex-wrap: wrap; 
}

/* Mobile/Tablet: location first, "up to..." at bottom */
@media (max-width: 1024px) {
  .experience-header { grid-template-columns: 1fr; }
  .experience-header .meta { 
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 0.25rem; 
  }
  .experience-header .meta .location { order: 1; }
  .experience-header .meta .capacity { order: 2; }
}

/* ===== Partner names appear clickable sitewide (except on detail pages) ===== */
.partner-name { 
  cursor: pointer; 
  text-decoration: underline; 
  color: hsl(var(--primary));
}
.partner-name:hover {
  opacity: 0.8;
}

/* Make partner names plain text on experience detail pages */
.experience-detail .partner-name,
.page-experience .partner-name {
  cursor: default !important;
  text-decoration: none !important;
  color: inherit !important;
}

/* People limit message – same as checkout red */
.people-error {
  color: #B00020 !important;
  font-weight: 700 !important;
  margin-top: .35rem;
}

/* Booking stepper styling */
.booking-stepper {
  counter-reset: step;
}

.booking-stepper .step h2::before {
  counter-increment: step;
  content: "Step " counter(step) ": ";
  font-weight: 600;
}

/* Progress indicator */
.booking-stepper .step-progress {
  display: flex;
  align-items: center;
  justify-content: between;
  margin-bottom: 1.5rem;
}

/* Accessibility helpers */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
}

/* ===== Global Layout (width & scroll) ===== */
.page-hero, .hero-section { 
  width: 100% !important; 
  max-width: none !important; 
  margin: 0; 
  padding: 0; 
}

.page-content, .section, .main-content, .container, .site-container {
  max-width: 1150px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box;
}

@media (max-width: 768px) {
  .page-content, .section, .main-content, .container, .site-container { 
    padding: 0 15px; 
  }
}

/* ===== Blog carousel fixes ===== */
.blog-carousel-title {
  font-size: clamp(0.95rem, 1.6vw, 1.1rem) !important;
  line-height: 1.25;
  display: -webkit-box; 
  -webkit-line-clamp: 2; 
  -webkit-box-orient: vertical; 
  overflow: hidden;
}

.blog-card .thumb img, .post-hero img {
  width: 100%; 
  height: auto; 
  object-fit: cover; 
  display: block;
}

.post-content, .post-body, .single-post .content { 
  line-height: 1.5 !important; 
}

/* ===== Primary menu spacing ===== */
.primary-menu > li > a { 
  padding-top: 10px !important; 
  padding-bottom: 10px !important; 
}

/* ===== Related experiences carousel ===== */
.related-experiences { 
  position: relative; 
}

.related-experiences .track { 
  display: flex; 
  gap: 1rem; 
  overflow: hidden; 
  scroll-behavior: smooth; 
}

.related-experiences .card { 
  flex: 0 0 calc(50% - 0.5rem); 
}

@media (max-width: 1024px) { 
  .related-experiences .card { 
    flex: 0 0 calc(100% - 0.5rem); 
  } 
}

.related-experiences .nav { 
  position: absolute; 
  top: 50%; 
  transform: translateY(-50%); 
  width: 100%; 
  display: flex; 
  justify-content: space-between; 
  pointer-events: none; 
}

.related-experiences .nav button {
  pointer-events: auto; 
  width: 40px; 
  height: 40px; 
  border-radius: 50%; 
  border: 1px solid hsl(var(--border)); 
  background: hsl(var(--background));
}

/* ===== People error (same red as checkout) ===== */
.people-error { 
  color: #B00020 !important; 
  font-weight: 700 !important; 
  margin-top: .35rem; 
}

/* ---------- Configurable spacing tokens ---------- */
:root {
  --pad-desktop: 20px;
  --pad-mobile: 15px;
  --maxw: 1150px;               /* your site width */
  --header-bg: hsl(var(--background));
  --footer-bg: hsl(var(--foreground));
  --header-height: 64px;
}

/* ---------- Containers (keep your 1150 width) ---------- */
.site-container, .container, .page-content, .section, .main-content {
  max-width: var(--maxw);
  margin-inline: auto;
  padding-inline: var(--pad-desktop);
  box-sizing: border-box;
}
@media (max-width: 768px) {
  .site-container, .container, .page-content, .section, .main-content {
    padding-inline: var(--pad-mobile);
  }
}

/* ---------- HEADER & MENU ---------- */
.site-header {
  background: var(--header-bg);
  /* Prevent margin-collapsing tricks & ensure padding is honored */
  display: flow-root;  /* establishes a new block formatting context */
  padding-block: var(--pad-desktop) !important;
}
@media (max-width: 768px) {
  .site-header { 
    padding-block: var(--pad-mobile) !important; 
  }
}

/* If your nav is the visible bar, pad it directly too */
.site-header .primary-nav,
.site-header .nav,
.primary-menu {
  padding-block: 10px !important; /* equal top/bottom */
}

/* Menu item hit-area */
.primary-menu > li > a {
  padding-block: 10px !important;
  padding-inline: 14px !important;
  display: inline-flex;
  align-items: center;
}

/* If header is fixed/sticky, avoid content sitting underneath */
body { 
  scroll-padding-top: var(--header-height); 
}
.has-sticky-header .page-after-hero,
body.sticky .page-after-hero {
  padding-top: 10px; /* a little breathing room below sticky header */
}

/* ---------- FOOTER ---------- */
.site-footer {
  background: var(--footer-bg);
  color: hsl(var(--background));
  /* padding must be on the element with the visible background */
  display: flow-root;                  /* prevents margin collapse */
  padding-top: 18px !important;        /* top spacing */
  padding-bottom: 18px;
}
@media (max-width: 768px) {
  .site-footer { 
    padding-top: 16px !important; 
    padding-bottom: 16px; 
  }
}

/* Footer columns touch targets */
.site-footer .footer-explore a,
.site-footer a {
  padding: 6px 0;
  display: inline-block;
}

/* ---------- "Why padding didn't show" common offenders ---------- */
/* 1) Hard heights: remove them so padding can expand */
.site-header, .primary-menu, .site-footer {
  height: auto !important;     /* kill fixed heights that clip padding */
}

/* 2) Utility resets overriding padding */
* { box-sizing: border-box; }  /* ensure padding doesn't cause layout surprises */

/* 3) If another stylesheet wins on specificity, bump once: */
body .site-header,
body .site-footer,
body .primary-menu { padding-inline: inherit; } /* keeps order-local wins */

/* ---------- Optional: ensure first/last child spacing looks clean ---------- */
.site-header > :first-child { margin-top: 0; }
.site-footer > :first-child { margin-top: 0; }
.site-footer > :last-child  { margin-bottom: 0; }

/* ===== Experience CTA & Booking Flow ===== */

/* Cards/pages: remove Book now */
.experience-card .btn-book-now,
.experience-page .btn-book-now { 
  display: none !important; 
}

/* Availability CTA initially visible; hidden after confirm */
#availability-cta.hidden { 
  display: none !important; 
}

/* Booking section collapsed by default; revealed on confirm */
#booking-section[hidden] { 
  display: none !important; 
}

/* People input (desktop + mobile parity) */
.people-input { 
  display: inline-flex; 
  align-items: center; 
  gap: .5rem; 
}

.people-input input[type="number"] { 
  width: 5.5rem; 
  text-align: center; 
  padding: 0.5rem;
  border: 1px solid hsl(var(--border));
  border-radius: 0.375rem;
}

.btn-step {
  border: 1px solid hsl(var(--border)); 
  background: hsl(var(--muted)); 
  border-radius: 8px;
  padding: .45rem .8rem; 
  line-height: 1; 
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-step:hover {
  background: hsl(var(--muted-foreground) / 0.1);
}

.btn-step:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Mobile placeholder = 0 (visual hint only) */
@media (max-width: 768px) {
  .people-input input[type="number"]::placeholder { 
    content: "0"; 
  }
  .people-input input[type="number"] { 
    width: 4.5rem; 
  }
}

/* Red limit warning */
.people-error { 
  color: #B00020 !important; 
  font-weight: 700 !important; 
  margin-top: .35rem; 
}

/* Review table box */
.price-review {
  margin-top: 1rem; 
  border: 1px solid hsl(var(--border)); 
  border-radius: 8px; 
  padding: .75rem .9rem;
  background: hsl(var(--muted) / 0.3);
}

.price-review .row { 
  display: flex; 
  justify-content: space-between; 
  gap: 1rem; 
  padding: .25rem 0; 
}

.price-review .row.total { 
  border-top: 1px solid hsl(var(--border)); 
  margin-top: .25rem; 
  padding-top: .5rem; 
  font-weight: 700; 
}

.price-review .note { 
  font-size: .9rem; 
  color: hsl(var(--muted-foreground)); 
  margin-top: .25rem; 
}

/* ===== Mobile-first responsive booking flow ===== */
@media (max-width: 768px) {
  /* Hide desktop booking panel on mobile */
  .lg\\:col-span-1 .sticky {
    display: none;
  }
  
  /* Show mobile availability CTA */
  #availability-cta {
    display: block;
  }
  
  /* Mobile booking section full width */
  #booking-section {
    width: 100%;
    margin: 0;
    padding: 1rem;
  }
}

@media (min-width: 769px) {
  /* Hide mobile availability CTA on desktop */
  #availability-cta {
    display: none;
  }
}

/* ===== HEADER ===== */
.site-header {
  padding-top: 30px !important;
  padding-bottom: 30px !important;
}
@media (max-width: 768px) {
  .site-header {
    padding-top: 20px !important;
    padding-bottom: 20px !important;
  }
}

/* ===== FOOTER ===== */
.site-footer {
  padding-top: 30px !important;
  padding-bottom: 30px !important;
}
@media (max-width: 768px) {
  .site-footer {
    padding-top: 20px !important;
    padding-bottom: 20px !important;
  }
}

/* ===== MAIN MENU (desktop/laptop) ===== */
.primary-menu,
.primary-menu ul {
  list-style: none !important;   /* removes dots/bullets */
  margin: 0;
  padding: 0;
  display: flex;
  align-items: center;
}
.primary-menu > li {
  display: inline-block;         /* horizontal */
  margin: 0 15px;                /* equal spacing */
}
.primary-menu > li > a {
  padding-top: 10px !important;
  padding-bottom: 10px !important;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
}

/* ===== FOOTER MENU LINKS ===== */
.site-footer .footer-explore ul,
.site-footer .footer-links ul {
  list-style: none;
  margin: 0;
  padding: 0;
}
.site-footer .footer-explore li,
.site-footer .footer-links li {
  margin: 4px 0;
}

/* Ensure proper touch targets on mobile */
@media (max-width: 768px) {
  .site-footer a {
    min-height: 44px;
    display: flex;
    align-items: center;
    padding: 8px 0;
  }
}

/* ===== Modal styling ===== */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 1rem;
}

.modal-content {
  background: hsl(var(--background));
  border-radius: 0.5rem;
  padding: 1.5rem;
  max-width: 400px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.modal-actions {
  display: flex;
  gap: 0.5rem;
  justify-content: flex-end;
  margin-top: 1.5rem;
}

/* Theme chips & blog category chips */
.theme-chip, .post-category {
  background: hsl(var(--primary)); 
  color: hsl(var(--primary-foreground));
  border-radius: 9999px; 
  padding: 0.35rem 0.75rem;
  display: inline-flex; 
  align-items: center; 
  gap: 0.35rem;
  line-height: 1; 
  text-decoration: none;
  transition: opacity 0.2s ease;
}

.theme-chip:hover, .post-category:hover { 
  opacity: 0.9; 
}

/* Layout constraints */
.page-content, .section, .main-content, .container, .site-container {
  max-width: 1150px; 
  margin: 0 auto; 
  padding: 0 20px; 
  box-sizing: border-box;
}

@media (max-width: 768px) {
  .page-content, .section, .main-content, .container, .site-container { 
    padding: 0 15px; 
  }
}

/* Partner stories carousel improvements */
.partner-stories-carousel {
  scroll-behavior: smooth;
}

.partner-stories-carousel::-webkit-scrollbar {
  display: none;
}

/* ===== Booking Form Improvements ===== */

/* People input parity (mobile & desktop) */
.people-input {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
}

.people-input input[type="number"] {
  width: 5.5rem;
  text-align: center;
}

.btn-step {
  border: 1px solid hsl(var(--border));
  background: hsl(var(--muted));
  border-radius: 8px;
  padding: .45rem .8rem;
  line-height: 1;
  font-weight: 600;
  transition: background-color 0.2s ease;
}

.btn-step:hover {
  background: hsl(var(--muted)/0.8);
}

@media (max-width: 768px) {
  .people-input input[type="number"] { 
    width: 4.5rem; 
  }
}

/* Red limit warning */
.people-error { 
  color: #B00020 !important; 
  font-weight: 700 !important; 
  margin-top: .35rem; 
}

/* Price review styling */
.price-review {
  margin-top: 1rem;
  border: 1px solid hsl(var(--border));
  border-radius: 8px;
  padding: .75rem .9rem;
}

.price-review .row { 
  display: flex; 
  justify-content: space-between; 
  gap: 1rem; 
  padding: .25rem 0; 
}

.price-review .row.total { 
  border-top: 1px solid hsl(var(--border)); 
  margin-top: .25rem; 
  padding-top: .5rem; 
  font-weight: 700; 
}

.price-review .note { 
  font-size: .9rem; 
  color: hsl(var(--muted-foreground)); 
  margin-top: .25rem; 
}

/* ===== End Booking Form Improvements ===== */

/* ===== Booking 2.0 Styles ===== */
:root{
  --bk-maxw: 1150px;
  --bk-gap: 16px; --bk-gap-sm: 12px;
  --bk-pad: 20px; --bk-pad-sm: 15px;
  --bk-border: #e7e7e7; --bk-muted: #666; --bk-bg: #fff; --bk-brand: #000;
  --bk-radius: 12px;
  --bk-shadow: 0 8px 24px rgba(0,0,0,.12);
}
* { box-sizing: border-box; }
.bk-primary{ background:var(--bk-brand); color:#fff; border:1px solid var(--bk-brand); border-radius:9999px; padding:.8rem 1.1rem; font-weight:700; cursor:pointer; }
.bk-secondary{ background:#f7f7f7; border:1px solid var(--bk-border); border-radius:9999px; padding:.8rem 1.1rem; cursor:pointer; }
.bk-link{ color:#000; text-decoration:underline; }

/* Drawer */
.bk-drawer[aria-hidden="true"]{ display:none !important; }
.bk-drawer{ position:fixed; inset:0; z-index:1000; display:flex; }
.bk-overlay{ position:absolute; inset:0; background:rgba(0,0,0,.45); }
.bk-panel{ margin-left:auto; width:min(560px, 100%); height:100%; background:#fff; display:flex; flex-direction:column; box-shadow: var(--bk-shadow); }
@media (max-width: 768px){ .bk-panel{ width:100%; } }

.bk-header{ display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--bk-border); }
.bk-close{ background:#fff; border:1px solid var(--bk-border); border-radius:8px; padding:.4rem .6rem; cursor:pointer; }

.bk-steps{ flex:1; overflow:auto; padding:16px; display:block; }
.bk-step{ display:block; }
.bk-step[hidden]{ display:none !important; }

.bk-step label{ display:flex; flex-direction:column; gap:6px; margin-bottom:12px; }
.bk-step input, .bk-step select, .bk-step textarea{
  border:1px solid var(--bk-border); border-radius:8px; padding:.7rem .8rem; font:inherit;
}
.bk-steppers{ display:inline-flex; align-items:center; gap:8px; }
.bk-stepper{ border:1px solid var(--bk-border); background:#f7f7f7; border-radius:8px; padding:.45rem .8rem; font-weight:700; }
.bk-help{ color:#b00020; font-weight:700; }

.bk-addons .bk-addon{ display:flex; justify-content:space-between; align-items:center; padding:10px; border:1px solid var(--bk-border); border-radius:10px; margin-bottom:10px; }
.bk-addon-title{ font-weight:600; }
.bk-addon-ctrl input{ width:72px; text-align:center; }

.bk-review{ border:1px solid var(--bk-border); border-radius:10px; padding:12px; margin-bottom:12px; }
.bk-review .row{ display:flex; justify-content:space-between; padding:6px 0; gap:12px; }
.bk-review .row.total{ border-top:1px solid var(--bk-border); margin-top:6px; padding-top:10px; font-weight:700; }
.bk-policy{ color:var(--bk-muted); font-size:.95rem; }

/* Sticky bar */
.bk-sticky{ position:sticky; bottom:0; padding:.7rem 16px calc(.7rem + env(safe-area-inset-bottom)); border-top:1px solid var(--bk-border); background:#fff; display:flex; align-items:center; gap:12px; }
.bk-total{ display:flex; flex-direction:column; line-height:1.1; }
@media (min-width: 1025px){ .bk-sticky{ display:none; } }

/* Inline panel on experience pages (desktop) */
.bk-inline{ max-width:var(--bk-maxw); margin:0 auto; padding:16px 20px; border:1px solid var(--bk-border); border-radius:12px; background:#fff; }
@media (max-width:1024px){ .bk-inline{ display:none; } }

/* ===== End Global Spacing & Responsive Improvements ===== */